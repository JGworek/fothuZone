{
	"ast": null,
	"code": "import { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/modal.service\";\nimport * as i2 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i3 from \"src/app/service/user.service\";\nimport * as i4 from \"src/app/service/battle.service\";\nimport * as i5 from \"@stomp/ng2-stompjs\";\nimport * as i6 from \"@angular/common\";\nconst _c0 = [\"battleModal\"];\n\nconst _c1 = function (a1, a2) {\n  return {\n    \"btn text-white mx-1\": true,\n    \" btn-success-fothu bg-success-fothu\": a1,\n    \"btn-light-fothu bg-light-fothu disabled\": a2\n  };\n};\n\nfunction ModalBattleComponent_ng_template_0_div_9_div_16_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function ModalBattleComponent_ng_template_0_div_9_div_16_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const pet_r13 = i0.ɵɵnextContext().$implicit;\n      const ctx_r15 = i0.ɵɵnextContext(3);\n      return ctx_r15.battleService.setAttackingPVPPet(ctx_r15.battleService.currentBattle.id, pet_r13.id);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const pet_r13 = i0.ɵɵnextContext().$implicit;\n    const ctx_r14 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(2, _c1, (ctx_r14.battleService.currentBattle.battleType == \"pvp\" || pet_r13.currentHealth) > 0, ctx_r14.battleService.currentBattle.battleType == \"pve\" && pet_r13.currentHealth == 0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", pet_r13.name, \" \");\n  }\n}\n\nfunction ModalBattleComponent_ng_template_0_div_9_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵtemplate(1, ModalBattleComponent_ng_template_0_div_9_div_16_button_1_Template, 2, 5, \"button\", 16);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const pet_r13 = ctx.$implicit;\n    const ctx_r12 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", pet_r13.id != ctx_r12.battleService.currentBattle.turns[ctx_r12.battleService.currentBattle.turns.length - 1].attackingPet);\n  }\n}\n\nconst _c2 = function (a0) {\n  return {\n    visibility: a0\n  };\n};\n\nfunction ModalBattleComponent_ng_template_0_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 11);\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵelementStart(5, \"h4\", 12);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 11);\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵelementStart(9, \"div\", 2);\n    i0.ɵɵelementStart(10, \"div\", 3);\n    i0.ɵɵelementStart(11, \"h4\", 13);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(13, \"br\");\n    i0.ɵɵelement(14, \"br\");\n    i0.ɵɵelement(15, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(16, ModalBattleComponent_ng_template_0_div_9_div_16_Template, 2, 1, \"div\", 14);\n    i0.ɵɵelement(17, \"br\");\n    i0.ɵɵelement(18, \"br\");\n    i0.ɵɵelement(19, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(7, _c2, ctx_r2.battleService.currentBattle.attackingUser.id == ctx_r2.userService.currentUser.id ? \"hidden\" : \"visible\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(9, _c2, ctx_r2.battleService.currentBattle.attackingUser.id == ctx_r2.userService.currentUser.id ? \"hidden\" : \"visible\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r2.battleService.currentBattle.attackingUser.username, \" is still selecting \", ctx_r2.battleService.currentBattle.maxNumberOfAttackingPets > 1 ? \"their pets\" : \"a pet\", \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(11, _c2, ctx_r2.battleService.currentBattle.attackingUser.id != ctx_r2.userService.currentUser.id ? \"hidden\" : \"visible\"));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.battleService.isBattlePetsArrayEmpty(ctx_r2.battleService.currentBattle.attackingBattlePets) && ctx_r2.battleService.currentBattle.maxNumberOfAttackingPets > 1 ? \"Select your first fighter:\" : ctx_r2.battleService.currentBattle.maxNumberOfAttackingPets > 1 ? \"Select your remaining fighters:\" : \"Select your fighter:\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.userService.currentUser.pets);\n  }\n}\n\nfunction ModalBattleComponent_ng_template_0_div_10_div_56_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function ModalBattleComponent_ng_template_0_div_10_div_56_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const battlePet_r20 = i0.ɵɵnextContext().$implicit;\n      const ctx_r22 = i0.ɵɵnextContext(3);\n      return ctx_r22.battleService.setAttackingPVPPet(ctx_r22.battleService.currentBattle.id, battlePet_r20.pet.id);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const battlePet_r20 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(2, _c1, battlePet_r20.pet.currentHealth > 0, battlePet_r20.pet.currentHealth == 0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", battlePet_r20.pet.name, \" \");\n  }\n}\n\nfunction ModalBattleComponent_ng_template_0_div_10_div_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtemplate(1, ModalBattleComponent_ng_template_0_div_10_div_56_button_1_Template, 2, 5, \"button\", 16);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const battlePet_r20 = ctx.$implicit;\n    const ctx_r19 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(2, _c2, ctx_r19.battleService.currentBattle.attackingUser.id == ctx_r19.userService.currentUser.id && ctx_r19.battleService.currentBattle.maxNumberOfAttackingPets > 1 ? \"visible\" : \"hidden\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", battlePet_r20.pet.id != ctx_r19.battleService.currentBattle.turns[ctx_r19.battleService.currentBattle.turns.length - 1].attackingPet.id);\n  }\n}\n\nconst _c3 = \"big-pet-background img-responsive center-block mx-auto petcenter\";\n\nconst _c4 = function (a1) {\n  return [_c3, a1];\n};\n\nconst _c5 = \"medium-pet-background img-responsive center-block mx-auto petcenter\";\n\nconst _c6 = function (a1) {\n  return [_c5, a1];\n};\n\nconst _c7 = function (a0) {\n  return {\n    width: a0,\n    \"font-size\": \"small\",\n    color: \"black\",\n    height: \"50px\"\n  };\n};\n\nfunction ModalBattleComponent_ng_template_0_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"br\");\n    i0.ɵɵelementStart(2, \"h4\", 13);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵelementStart(5, \"div\", 18);\n    i0.ɵɵelementStart(6, \"div\", 19);\n    i0.ɵɵelement(7, \"img\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 21);\n    i0.ɵɵelementStart(9, \"div\", 19);\n    i0.ɵɵelement(10, \"img\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 18);\n    i0.ɵɵelementStart(12, \"div\", 23);\n    i0.ɵɵelement(13, \"div\", 24);\n    i0.ɵɵelementStart(14, \"h4\", 25);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 21);\n    i0.ɵɵelementStart(17, \"div\", 26);\n    i0.ɵɵelement(18, \"div\", 24);\n    i0.ɵɵelementStart(19, \"h4\", 25);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(21, \"br\");\n    i0.ɵɵelementStart(22, \"div\", 27);\n    i0.ɵɵelementStart(23, \"div\", 28);\n    i0.ɵɵelementStart(24, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function ModalBattleComponent_ng_template_0_div_10_Template_button_click_24_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r26 = i0.ɵɵnextContext(2);\n      return ctx_r26.battleService.defend(ctx_r26.battleService.currentBattle.id);\n    });\n    i0.ɵɵtext(25, \"Defend\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function ModalBattleComponent_ng_template_0_div_10_Template_button_click_26_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r28 = i0.ɵɵnextContext(2);\n      return ctx_r28.battleService.evade(ctx_r28.battleService.currentBattle.id);\n    });\n    i0.ɵɵtext(27, \"Evade\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"div\", 28);\n    i0.ɵɵelementStart(29, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function ModalBattleComponent_ng_template_0_div_10_Template_button_click_29_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r29 = i0.ɵɵnextContext(2);\n      return ctx_r29.battleService.aim(ctx_r29.battleService.currentBattle.id);\n    });\n    i0.ɵɵtext(30, \"Aim\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function ModalBattleComponent_ng_template_0_div_10_Template_button_click_31_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r30 = i0.ɵɵnextContext(2);\n      return ctx_r30.battleService.sharpen(ctx_r30.battleService.currentBattle.id);\n    });\n    i0.ɵɵtext(32, \"Sharpen\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"div\", 33);\n    i0.ɵɵelementStart(34, \"button\", 34);\n    i0.ɵɵlistener(\"click\", function ModalBattleComponent_ng_template_0_div_10_Template_button_click_34_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r31 = i0.ɵɵnextContext(2);\n      return ctx_r31.battleService.attack(ctx_r31.battleService.currentBattle.id);\n    });\n    i0.ɵɵtext(35, \"Attack\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(36, \"br\");\n    i0.ɵɵelementStart(37, \"div\", 35);\n    i0.ɵɵelementStart(38, \"div\", 36);\n    i0.ɵɵtext(39, \"Armor\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"div\", 36);\n    i0.ɵɵtext(41, \"Accuracy\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"div\", 36);\n    i0.ɵɵtext(43, \"Evasion\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"div\", 36);\n    i0.ɵɵtext(45, \"Attack\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"div\", 35);\n    i0.ɵɵelementStart(47, \"div\", 36);\n    i0.ɵɵtext(48);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(49, \"div\", 36);\n    i0.ɵɵtext(50);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"div\", 36);\n    i0.ɵɵtext(52);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"div\", 36);\n    i0.ɵɵtext(54);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(55, \"br\");\n    i0.ɵɵtemplate(56, ModalBattleComponent_ng_template_0_div_10_div_56_Template, 2, 4, \"div\", 37);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r3.battleService.currentBattle.turns[ctx_r3.battleService.currentBattle.turns.length - 1].attackingPet.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(27, _c4, ctx_r3.battleService.currentBattle.attackingUser.favoriteColor));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r3.battleService.currentBattle.turns[ctx_r3.battleService.currentBattle.turns.length - 1].attackingPet.image.imageURL, i0.ɵɵsanitizeUrl)(\"alt\", ctx_r3.battleService.currentBattle.turns[ctx_r3.battleService.currentBattle.turns.length - 1].attackingPet.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(29, _c6, ctx_r3.battleService.currentBattle.attackingUser.favoriteColor));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r3.battleService.currentBattle.turns[ctx_r3.battleService.currentBattle.turns.length - 1].attackingPet.image.imageURL, i0.ɵɵsanitizeUrl)(\"alt\", ctx_r3.battleService.currentBattle.turns[ctx_r3.battleService.currentBattle.turns.length - 1].attackingPet.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMap(ctx_r3.userService.getHealthBarColor((ctx_r3.battleService.currentBattle.turns[ctx_r3.battleService.currentBattle.turns.length - 1].attackingPetCurrentHealth / ctx_r3.battleService.currentBattle.turns[ctx_r3.battleService.currentBattle.turns.length - 1].attackingPet.maxHealth * 100).toFixed(0)));\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(31, _c7, (ctx_r3.battleService.currentBattle.turns[ctx_r3.battleService.currentBattle.turns.length - 1].attackingPetCurrentHealth / ctx_r3.battleService.currentBattle.turns[ctx_r3.battleService.currentBattle.turns.length - 1].attackingPet.maxHealth * 100).toFixed(0) + \"%\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(33, _c2, ctx_r3.battleService.currentBattle.attackingUser.id == ctx_r3.userService.currentUser.id ? \"visible\" : \"hidden\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", ctx_r3.battleService.currentBattle.turns[ctx_r3.battleService.currentBattle.turns.length - 1].attackingPetCurrentHealth, \"/\", ctx_r3.battleService.currentBattle.turns[ctx_r3.battleService.currentBattle.turns.length - 1].attackingPet.maxHealth, \" HP \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMap(ctx_r3.userService.getHealthBarColor((ctx_r3.battleService.currentBattle.turns[ctx_r3.battleService.currentBattle.turns.length - 1].attackingPetCurrentHealth / ctx_r3.battleService.currentBattle.turns[ctx_r3.battleService.currentBattle.turns.length - 1].attackingPet.maxHealth * 100).toFixed(0)));\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(35, _c7, (ctx_r3.battleService.currentBattle.turns[ctx_r3.battleService.currentBattle.turns.length - 1].attackingPetCurrentHealth / ctx_r3.battleService.currentBattle.turns[ctx_r3.battleService.currentBattle.turns.length - 1].attackingPet.maxHealth * 100).toFixed(0) + \"%\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(37, _c2, ctx_r3.battleService.currentBattle.attackingUser.id == ctx_r3.userService.currentUser.id ? \"visible\" : \"hidden\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", ctx_r3.battleService.currentBattle.turns[ctx_r3.battleService.currentBattle.turns.length - 1].attackingPetCurrentHealth, \"/\", ctx_r3.battleService.currentBattle.turns[ctx_r3.battleService.currentBattle.turns.length - 1].attackingPet.maxHealth, \" HP \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(39, _c2, ctx_r3.battleService.currentBattle.attackingUser.id == ctx_r3.userService.currentUser.id && ctx_r3.battleService.currentBattle.nextTurnUser.id == ctx_r3.battleService.currentBattle.attackingUser.id && !ctx_r3.battleService.currentBattle.battleFinished ? \"visible\" : \"hidden\"));\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(41, _c2, ctx_r3.battleService.currentBattle.attackingUser.id == ctx_r3.userService.currentUser.id ? \"visible\" : \"hidden\"));\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(43, _c2, ctx_r3.battleService.currentBattle.attackingUser.id == ctx_r3.userService.currentUser.id ? \"visible\" : \"hidden\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r3.battleService.currentBattle.turns[ctx_r3.battleService.currentBattle.turns.length - 1].attackingPetArmorModifier, \"x\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r3.battleService.currentBattle.turns[ctx_r3.battleService.currentBattle.turns.length - 1].attackingPetAccuracyModifier, \"x\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r3.battleService.currentBattle.turns[ctx_r3.battleService.currentBattle.turns.length - 1].attackingPetEvasionModifier, \"x\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r3.battleService.currentBattle.turns[ctx_r3.battleService.currentBattle.turns.length - 1].attackingPetAttackModifier, \"x\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.battleService.currentBattle.attackingBattlePets);\n  }\n}\n\nfunction ModalBattleComponent_ng_template_0_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"hr\");\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵelementStart(3, \"h4\");\n    i0.ɵɵtext(4, \"Waiting for 1 or more user to finish selecting pets for battle.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"br\");\n    i0.ɵɵelement(6, \"hr\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ModalBattleComponent_ng_template_0_div_16_br_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"br\");\n  }\n}\n\nfunction ModalBattleComponent_ng_template_0_div_16_h4_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r33 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Waiting for \", ctx_r33.battleService.currentBattle.nextTurnUser.username, \" to make the first move!\");\n  }\n}\n\nfunction ModalBattleComponent_ng_template_0_div_16_br_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"br\");\n  }\n}\n\nfunction ModalBattleComponent_ng_template_0_div_16_div_5_br_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"br\");\n  }\n}\n\nfunction ModalBattleComponent_ng_template_0_div_16_div_5_h4_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const battleLog_r36 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(battleLog_r36.turnFlavorText);\n  }\n}\n\nfunction ModalBattleComponent_ng_template_0_div_16_div_5_br_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"br\");\n  }\n}\n\nfunction ModalBattleComponent_ng_template_0_div_16_div_5_hr_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"hr\");\n  }\n}\n\nfunction ModalBattleComponent_ng_template_0_div_16_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ModalBattleComponent_ng_template_0_div_16_div_5_br_1_Template, 1, 0, \"br\", 6);\n    i0.ɵɵtemplate(2, ModalBattleComponent_ng_template_0_div_16_div_5_h4_2_Template, 2, 1, \"h4\", 6);\n    i0.ɵɵtemplate(3, ModalBattleComponent_ng_template_0_div_16_div_5_br_3_Template, 1, 0, \"br\", 6);\n    i0.ɵɵtemplate(4, ModalBattleComponent_ng_template_0_div_16_div_5_hr_4_Template, 1, 0, \"hr\", 6);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const i_r37 = ctx.index;\n    const ctx_r35 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r35.battleService.currentBattle.turns[i_r37].turnFlavorText && i_r37 > ctx_r35.battleService.currentBattle.turns.length - 2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r35.battleService.currentBattle.turns[i_r37].turnFlavorText && i_r37 > ctx_r35.battleService.currentBattle.turns.length - 2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r35.battleService.currentBattle.turns[i_r37].turnFlavorText && i_r37 > ctx_r35.battleService.currentBattle.turns.length - 2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i_r37 > ctx_r35.battleService.currentBattle.turns.length - 2);\n  }\n}\n\nfunction ModalBattleComponent_ng_template_0_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"hr\");\n    i0.ɵɵtemplate(2, ModalBattleComponent_ng_template_0_div_16_br_2_Template, 1, 0, \"br\", 6);\n    i0.ɵɵtemplate(3, ModalBattleComponent_ng_template_0_div_16_h4_3_Template, 2, 1, \"h4\", 6);\n    i0.ɵɵtemplate(4, ModalBattleComponent_ng_template_0_div_16_br_4_Template, 1, 0, \"br\", 6);\n    i0.ɵɵtemplate(5, ModalBattleComponent_ng_template_0_div_16_div_5_Template, 5, 4, \"div\", 38);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r5.battleService.currentBattle.turns[0].turnFlavorText);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r5.battleService.currentBattle.turns[0].turnFlavorText);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r5.battleService.currentBattle.turns[0].turnFlavorText);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.battleService.currentBattle.turns);\n  }\n}\n\nfunction ModalBattleComponent_ng_template_0_div_17_h4_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\");\n    i0.ɵɵtext(1, \"Chumbo Always Wins\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ModalBattleComponent_ng_template_0_div_17_h4_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r44 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r44.battleService.currentBattle.winningUser.username, \" Wins!\");\n  }\n}\n\nfunction ModalBattleComponent_ng_template_0_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"hr\");\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵtemplate(3, ModalBattleComponent_ng_template_0_div_17_h4_3_Template, 2, 0, \"h4\", 6);\n    i0.ɵɵtemplate(4, ModalBattleComponent_ng_template_0_div_17_h4_4_Template, 2, 1, \"h4\", 6);\n    i0.ɵɵelement(5, \"br\");\n    i0.ɵɵelement(6, \"hr\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.battleService.currentBattle.attackingUser.id == 2 || ctx_r6.battleService.currentBattle.defendingUser.id == 2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.battleService.currentBattle.attackingUser.id != 2 || ctx_r6.battleService.currentBattle.defendingUser.id != 2);\n  }\n}\n\nfunction ModalBattleComponent_ng_template_0_div_21_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 40);\n    i0.ɵɵelement(1, \"br\");\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementStart(4, \"h4\", 12);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r45 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(3, _c2, ctx_r45.battleService.currentBattle.defendingUser.id == ctx_r45.userService.currentUser.id ? \"hidden\" : \"visible\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r45.battleService.currentBattle.defendingUser.username, \" is still selecting \", ctx_r45.battleService.currentBattle.maxNumberOfDefendingPets > 1 ? \"their pets\" : \"a pet\", \"\");\n  }\n}\n\nfunction ModalBattleComponent_ng_template_0_div_21_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 40);\n    i0.ɵɵelement(1, \"br\");\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementStart(4, \"h4\", 13);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r46 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Waiting for \", ctx_r46.battleService.currentBattle.attackingUser.username, \" to select their first pet.\");\n  }\n}\n\nfunction ModalBattleComponent_ng_template_0_div_21_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r50 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵelementStart(1, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function ModalBattleComponent_ng_template_0_div_21_div_12_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r50);\n      const pet_r48 = restoredCtx.$implicit;\n      const ctx_r49 = i0.ɵɵnextContext(3);\n      return ctx_r49.battleService.setDefendingPVPPet(ctx_r49.battleService.currentBattle.id, pet_r48.id);\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const pet_r48 = ctx.$implicit;\n    const ctx_r47 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(2, _c1, (ctx_r47.battleService.currentBattle.battleType == \"pvp\" || pet_r48.currentHealth) > 0, ctx_r47.battleService.currentBattle.battleType == \"pve\" && pet_r48.currentHealth == 0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", pet_r48.name, \" \");\n  }\n}\n\nfunction ModalBattleComponent_ng_template_0_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ModalBattleComponent_ng_template_0_div_21_div_1_Template, 6, 5, \"div\", 39);\n    i0.ɵɵtemplate(2, ModalBattleComponent_ng_template_0_div_21_div_2_Template, 6, 1, \"div\", 39);\n    i0.ɵɵelementStart(3, \"div\", 11);\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵelementStart(5, \"div\", 2);\n    i0.ɵɵelementStart(6, \"div\", 3);\n    i0.ɵɵelementStart(7, \"h4\", 13);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵelement(10, \"br\");\n    i0.ɵɵelement(11, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, ModalBattleComponent_ng_template_0_div_21_div_12_Template, 3, 5, \"div\", 14);\n    i0.ɵɵelement(13, \"br\");\n    i0.ɵɵelement(14, \"br\");\n    i0.ɵɵelement(15, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.battleService.currentBattle.turns[ctx_r7.battleService.currentBattle.turns.length - 1].attackingPet.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r7.battleService.currentBattle.turns[ctx_r7.battleService.currentBattle.turns.length - 1].attackingPet.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(5, _c2, ctx_r7.battleService.currentBattle.defendingUser.id == ctx_r7.userService.currentUser.id && ctx_r7.battleService.currentBattle.turns[ctx_r7.battleService.currentBattle.turns.length - 1].attackingPet.id ? \"visible\" : \"hidden\"));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r7.getBattlePetsArraySize(ctx_r7.battleService.currentBattle.defendingBattlePets) < 1 && ctx_r7.battleService.currentBattle.maxNumberOfDefendingPets > 1 ? \"Select your first fighter:\" : ctx_r7.battleService.currentBattle.maxNumberOfDefendingPets > 1 ? \"Select your remaining fighters:\" : \"Select your fighter:\", \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.userService.currentUser.pets);\n  }\n}\n\nfunction ModalBattleComponent_ng_template_0_div_22_div_56_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r55 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function ModalBattleComponent_ng_template_0_div_22_div_56_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r55);\n      const battlePet_r52 = i0.ɵɵnextContext().$implicit;\n      const ctx_r54 = i0.ɵɵnextContext(3);\n      return ctx_r54.battleService.setAttackingPVPPet(ctx_r54.battleService.currentBattle.id, battlePet_r52.pet.id);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const battlePet_r52 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(2, _c1, battlePet_r52.pet.currentHealth > 0, battlePet_r52.pet.currentHealth == 0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", battlePet_r52.pet.name, \" \");\n  }\n}\n\nfunction ModalBattleComponent_ng_template_0_div_22_div_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtemplate(1, ModalBattleComponent_ng_template_0_div_22_div_56_button_1_Template, 2, 5, \"button\", 16);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const battlePet_r52 = ctx.$implicit;\n    const ctx_r51 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(2, _c2, ctx_r51.battleService.currentBattle.defendingUser.id == ctx_r51.userService.currentUser.id && ctx_r51.battleService.currentBattle.maxNumberOfDefendingPets > 1 ? \"visible\" : \"hidden\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", battlePet_r52.pet.id != ctx_r51.battleService.currentBattle.turns[ctx_r51.battleService.currentBattle.turns.length - 1].defendingPet.id);\n  }\n}\n\nfunction ModalBattleComponent_ng_template_0_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r59 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"br\");\n    i0.ɵɵelementStart(2, \"h4\", 13);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵelementStart(5, \"div\", 18);\n    i0.ɵɵelementStart(6, \"div\", 19);\n    i0.ɵɵelement(7, \"img\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 21);\n    i0.ɵɵelementStart(9, \"div\", 19);\n    i0.ɵɵelement(10, \"img\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 18);\n    i0.ɵɵelementStart(12, \"div\", 23);\n    i0.ɵɵelement(13, \"div\", 24);\n    i0.ɵɵelementStart(14, \"h4\", 25);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 21);\n    i0.ɵɵelementStart(17, \"div\", 26);\n    i0.ɵɵelement(18, \"div\", 24);\n    i0.ɵɵelementStart(19, \"h4\", 25);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(21, \"br\");\n    i0.ɵɵelementStart(22, \"div\", 27);\n    i0.ɵɵelementStart(23, \"div\", 28);\n    i0.ɵɵelementStart(24, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function ModalBattleComponent_ng_template_0_div_22_Template_button_click_24_listener() {\n      i0.ɵɵrestoreView(_r59);\n      const ctx_r58 = i0.ɵɵnextContext(2);\n      return ctx_r58.battleService.defend(ctx_r58.battleService.currentBattle.id);\n    });\n    i0.ɵɵtext(25, \"Defend\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function ModalBattleComponent_ng_template_0_div_22_Template_button_click_26_listener() {\n      i0.ɵɵrestoreView(_r59);\n      const ctx_r60 = i0.ɵɵnextContext(2);\n      return ctx_r60.battleService.evade(ctx_r60.battleService.currentBattle.id);\n    });\n    i0.ɵɵtext(27, \"Evade\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"div\", 28);\n    i0.ɵɵelementStart(29, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function ModalBattleComponent_ng_template_0_div_22_Template_button_click_29_listener() {\n      i0.ɵɵrestoreView(_r59);\n      const ctx_r61 = i0.ɵɵnextContext(2);\n      return ctx_r61.battleService.aim(ctx_r61.battleService.currentBattle.id);\n    });\n    i0.ɵɵtext(30, \"Aim\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"button\", 41);\n    i0.ɵɵlistener(\"click\", function ModalBattleComponent_ng_template_0_div_22_Template_button_click_31_listener() {\n      i0.ɵɵrestoreView(_r59);\n      const ctx_r62 = i0.ɵɵnextContext(2);\n      return ctx_r62.battleService.sharpen(ctx_r62.battleService.currentBattle.id);\n    });\n    i0.ɵɵtext(32, \"Sharpen\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"div\", 33);\n    i0.ɵɵelementStart(34, \"button\", 34);\n    i0.ɵɵlistener(\"click\", function ModalBattleComponent_ng_template_0_div_22_Template_button_click_34_listener() {\n      i0.ɵɵrestoreView(_r59);\n      const ctx_r63 = i0.ɵɵnextContext(2);\n      return ctx_r63.battleService.attack(ctx_r63.battleService.currentBattle.id);\n    });\n    i0.ɵɵtext(35, \"Attack\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(36, \"br\");\n    i0.ɵɵelementStart(37, \"div\", 35);\n    i0.ɵɵelementStart(38, \"div\", 36);\n    i0.ɵɵtext(39, \"Armor\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"div\", 36);\n    i0.ɵɵtext(41, \"Accuracy\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"div\", 36);\n    i0.ɵɵtext(43, \"Evasion\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"div\", 36);\n    i0.ɵɵtext(45, \"Attack\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"div\", 35);\n    i0.ɵɵelementStart(47, \"div\", 36);\n    i0.ɵɵtext(48);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(49, \"div\", 36);\n    i0.ɵɵtext(50);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"div\", 36);\n    i0.ɵɵtext(52);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"div\", 36);\n    i0.ɵɵtext(54);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(55, \"br\");\n    i0.ɵɵtemplate(56, ModalBattleComponent_ng_template_0_div_22_div_56_Template, 2, 4, \"div\", 37);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r8.battleService.currentBattle.turns[ctx_r8.battleService.currentBattle.turns.length - 1].defendingPet.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(27, _c4, ctx_r8.battleService.currentBattle.defendingUser.favoriteColor));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r8.battleService.currentBattle.turns[ctx_r8.battleService.currentBattle.turns.length - 1].defendingPet.image.imageURL, i0.ɵɵsanitizeUrl)(\"alt\", ctx_r8.battleService.currentBattle.turns[ctx_r8.battleService.currentBattle.turns.length - 1].defendingPet.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(29, _c6, ctx_r8.battleService.currentBattle.defendingUser.favoriteColor));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r8.battleService.currentBattle.turns[ctx_r8.battleService.currentBattle.turns.length - 1].defendingPet.image.imageURL, i0.ɵɵsanitizeUrl)(\"alt\", ctx_r8.battleService.currentBattle.turns[ctx_r8.battleService.currentBattle.turns.length - 1].defendingPet.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMap(ctx_r8.userService.getHealthBarColor((ctx_r8.battleService.currentBattle.turns[ctx_r8.battleService.currentBattle.turns.length - 1].defendingPetCurrentHealth / ctx_r8.battleService.currentBattle.turns[ctx_r8.battleService.currentBattle.turns.length - 1].defendingPet.maxHealth * 100).toFixed(0)));\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(31, _c7, (ctx_r8.battleService.currentBattle.turns[ctx_r8.battleService.currentBattle.turns.length - 1].defendingPetCurrentHealth / ctx_r8.battleService.currentBattle.turns[ctx_r8.battleService.currentBattle.turns.length - 1].defendingPet.maxHealth * 100).toFixed(0) + \"%\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(33, _c2, ctx_r8.battleService.currentBattle.defendingUser.id == ctx_r8.userService.currentUser.id ? \"visible\" : \"hidden\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", ctx_r8.battleService.currentBattle.turns[ctx_r8.battleService.currentBattle.turns.length - 1].defendingPetCurrentHealth, \"/\", ctx_r8.battleService.currentBattle.turns[ctx_r8.battleService.currentBattle.turns.length - 1].defendingPet.maxHealth, \" HP \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMap(ctx_r8.userService.getHealthBarColor((ctx_r8.battleService.currentBattle.turns[ctx_r8.battleService.currentBattle.turns.length - 1].defendingPetCurrentHealth / ctx_r8.battleService.currentBattle.turns[ctx_r8.battleService.currentBattle.turns.length - 1].defendingPet.maxHealth * 100).toFixed(0)));\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(35, _c7, (ctx_r8.battleService.currentBattle.turns[ctx_r8.battleService.currentBattle.turns.length - 1].defendingPetCurrentHealth / ctx_r8.battleService.currentBattle.turns[ctx_r8.battleService.currentBattle.turns.length - 1].defendingPet.maxHealth * 100).toFixed(0) + \"%\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(37, _c2, ctx_r8.battleService.currentBattle.defendingUser.id == ctx_r8.userService.currentUser.id ? \"visible\" : \"hidden\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", ctx_r8.battleService.currentBattle.turns[ctx_r8.battleService.currentBattle.turns.length - 1].attackingPetCurrentHealth, \"/\", ctx_r8.battleService.currentBattle.turns[ctx_r8.battleService.currentBattle.turns.length - 1].attackingPet.maxHealth, \" HP \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(39, _c2, ctx_r8.battleService.currentBattle.defendingUser.id == ctx_r8.userService.currentUser.id && ctx_r8.battleService.currentBattle.nextTurnUser.id == ctx_r8.battleService.currentBattle.defendingUser.id && !ctx_r8.battleService.currentBattle.battleFinished ? \"visible\" : \"hidden\"));\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(41, _c2, ctx_r8.battleService.currentBattle.defendingUser.id == ctx_r8.userService.currentUser.id ? \"visible\" : \"hidden\"));\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(43, _c2, ctx_r8.battleService.currentBattle.defendingUser.id == ctx_r8.userService.currentUser.id ? \"visible\" : \"hidden\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r8.battleService.currentBattle.turns[ctx_r8.battleService.currentBattle.turns.length - 1].defendingPetArmorModifier, \"x\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r8.battleService.currentBattle.turns[ctx_r8.battleService.currentBattle.turns.length - 1].defendingPetAccuracyModifier, \"x\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r8.battleService.currentBattle.turns[ctx_r8.battleService.currentBattle.turns.length - 1].defendingPetEvasionModifier, \"x\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r8.battleService.currentBattle.turns[ctx_r8.battleService.currentBattle.turns.length - 1].defendingPetAttackModifier, \"x\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r8.battleService.currentBattle.defendingBattlePets);\n  }\n}\n\nfunction ModalBattleComponent_ng_template_0_button_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r65 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function ModalBattleComponent_ng_template_0_button_30_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r65);\n      const ctx_r64 = i0.ɵɵnextContext(2);\n      return ctx_r64.closeBattle();\n    });\n    i0.ɵɵtext(1, \"Close Battle\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ModalBattleComponent_ng_template_0_button_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\");\n    i0.ɵɵtext(1, \"Victory!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ModalBattleComponent_ng_template_0_button_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\");\n    i0.ɵɵtext(1, \"No More Pets. Run!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c8 = function (a1) {\n  return {\n    \"col-12 col-md-4 battle-pets bg-dark-fothu rounded\": true,\n    \"order-last\": a1\n  };\n};\n\nconst _c9 = function (a0) {\n  return {\n    \"box-shadow\": a0\n  };\n};\n\nconst _c10 = function (a1) {\n  return {\n    \"col-12 col-md-4 battle-pets bg-dark-fothu rounded\": true,\n    \"order-first\": a1\n  };\n};\n\nfunction ModalBattleComponent_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵelementStart(1, \"div\", 2);\n    i0.ɵɵelementStart(2, \"div\", 3);\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵelement(5, \"br\");\n    i0.ɵɵelementStart(6, \"div\", 4);\n    i0.ɵɵelementStart(7, \"div\", 2);\n    i0.ɵɵelementStart(8, \"div\", 5);\n    i0.ɵɵtemplate(9, ModalBattleComponent_ng_template_0_div_9_Template, 20, 13, \"div\", 6);\n    i0.ɵɵtemplate(10, ModalBattleComponent_ng_template_0_div_10_Template, 57, 45, \"div\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 7);\n    i0.ɵɵelement(12, \"img\", 8);\n    i0.ɵɵelementStart(13, \"h4\");\n    i0.ɵɵtext(14, \"\\u00A0\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(15, ModalBattleComponent_ng_template_0_div_15_Template, 7, 0, \"div\", 6);\n    i0.ɵɵtemplate(16, ModalBattleComponent_ng_template_0_div_16_Template, 6, 4, \"div\", 6);\n    i0.ɵɵtemplate(17, ModalBattleComponent_ng_template_0_div_17_Template, 7, 2, \"div\", 6);\n    i0.ɵɵelementStart(18, \"h4\");\n    i0.ɵɵtext(19, \"\\u00A0\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 5);\n    i0.ɵɵtemplate(21, ModalBattleComponent_ng_template_0_div_21_Template, 16, 7, \"div\", 6);\n    i0.ɵɵtemplate(22, ModalBattleComponent_ng_template_0_div_22_Template, 57, 45, \"div\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"div\", 9);\n    i0.ɵɵelement(24, \"br\");\n    i0.ɵɵelement(25, \"br\");\n    i0.ɵɵelement(26, \"br\");\n    i0.ɵɵelement(27, \"br\");\n    i0.ɵɵelement(28, \"br\");\n    i0.ɵɵelement(29, \"br\");\n    i0.ɵɵtemplate(30, ModalBattleComponent_ng_template_0_button_30_Template, 2, 0, \"button\", 10);\n    i0.ɵɵtemplate(31, ModalBattleComponent_ng_template_0_button_31_Template, 2, 0, \"button\", 6);\n    i0.ɵɵtemplate(32, ModalBattleComponent_ng_template_0_button_32_Template, 2, 0, \"button\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(15, _c8, ctx_r1.userService.currentUser.id == ctx_r1.battleService.currentBattle.defendingUser.id))(\"ngStyle\", i0.ɵɵpureFunction1(17, _c9, ctx_r1.battleService.currentBattle.attackingUser.id == ctx_r1.battleService.currentBattle.nextTurnUser.id && !ctx_r1.battleService.currentBattle.battleFinished || ctx_r1.battleService.currentBattle.winningUser.id == ctx_r1.battleService.currentBattle.attackingUser.id && ctx_r1.battleService.currentBattle.battleFinished ? \"0px 0px 70px \" + ctx_r1.battleService.currentBattle.attackingUser.favoriteColor : \"\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.battleService.isBattlePetsArrayEmpty(ctx_r1.battleService.currentBattle.attackingBattlePets) || ctx_r1.getBattlePetsArraySize(ctx_r1.battleService.currentBattle.attackingBattlePets) != ctx_r1.battleService.currentBattle.maxNumberOfAttackingPets);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.battleService.isBattlePetsArrayEmpty(ctx_r1.battleService.currentBattle.attackingBattlePets) && ctx_r1.battleService.currentBattle.turns[ctx_r1.battleService.currentBattle.turns.length - 1].attackingPet.id && ctx_r1.battleService.currentBattle.maxNumberOfAttackingPets == ctx_r1.getBattlePetsArraySize(ctx_r1.battleService.currentBattle.attackingBattlePets));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(19, _c2, ctx_r1.battleService.sendingRequest ? \"visible\" : \"hidden\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.battleService.isBattlePetsArrayEmpty(ctx_r1.battleService.currentBattle.attackingBattlePets) && ctx_r1.battleService.isBattlePetsArrayEmpty(ctx_r1.battleService.currentBattle.defendingBattlePets) || ctx_r1.battleService.currentBattle.maxNumberOfAttackingPets > ctx_r1.getBattlePetsArraySize(ctx_r1.battleService.currentBattle.attackingBattlePets) || ctx_r1.battleService.currentBattle.maxNumberOfDefendingPets > ctx_r1.getBattlePetsArraySize(ctx_r1.battleService.currentBattle.defendingBattlePets));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.battleService.isBattlePetsArrayEmpty(ctx_r1.battleService.currentBattle.attackingBattlePets) && ctx_r1.battleService.currentBattle.maxNumberOfAttackingPets == ctx_r1.getBattlePetsArraySize(ctx_r1.battleService.currentBattle.attackingBattlePets) && !ctx_r1.battleService.currentBattle.battleFinished && !ctx_r1.battleService.isBattlePetsArrayEmpty(ctx_r1.battleService.currentBattle.defendingBattlePets) && ctx_r1.battleService.currentBattle.maxNumberOfDefendingPets == ctx_r1.getBattlePetsArraySize(ctx_r1.battleService.currentBattle.defendingBattlePets) && !ctx_r1.battleService.currentBattle.battleFinished);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.battleService.currentBattle.battleFinished);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(21, _c10, ctx_r1.userService.currentUser.id == ctx_r1.battleService.currentBattle.defendingUser.id))(\"ngStyle\", i0.ɵɵpureFunction1(23, _c9, ctx_r1.battleService.currentBattle.defendingUser.id == ctx_r1.battleService.currentBattle.nextTurnUser.id && !ctx_r1.battleService.currentBattle.battleFinished || ctx_r1.battleService.currentBattle.winningUser.id == ctx_r1.battleService.currentBattle.defendingUser.id && ctx_r1.battleService.currentBattle.battleFinished ? \"0px 0px 70px \" + ctx_r1.battleService.currentBattle.defendingUser.favoriteColor : \"\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.battleService.isBattlePetsArrayEmpty(ctx_r1.battleService.currentBattle.defendingBattlePets) || ctx_r1.getBattlePetsArraySize(ctx_r1.battleService.currentBattle.defendingBattlePets) != ctx_r1.battleService.currentBattle.maxNumberOfDefendingPets);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.battleService.isBattlePetsArrayEmpty(ctx_r1.battleService.currentBattle.defendingBattlePets) && ctx_r1.battleService.currentBattle.turns[ctx_r1.battleService.currentBattle.turns.length - 1].defendingPet.id && ctx_r1.battleService.currentBattle.maxNumberOfDefendingPets == ctx_r1.getBattlePetsArraySize(ctx_r1.battleService.currentBattle.defendingBattlePets));\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.battleService.currentBattle.battleType.toLowerCase() == \"pvp\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.battleService.currentBattle.battleType.toLowerCase() == \"pve\" && ctx_r1.battleService.currentBattle.battleFinished && ctx_r1.battleService.currentBattle.winningUser.id == ctx_r1.battleService.currentBattle.attackingUser.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.battleService.currentBattle.battleType.toLowerCase() == \"pve\" && ctx_r1.battleService.currentBattle.battleFinished && ctx_r1.battleService.currentBattle.winningUser.id == ctx_r1.battleService.currentBattle.defendingUser.id);\n  }\n}\n\nexport let ModalBattleComponent = /*#__PURE__*/(() => {\n  class ModalBattleComponent {\n    constructor(modalService, NgbActiveModal, userService, battleService, RxStompService) {\n      this.modalService = modalService;\n      this.NgbActiveModal = NgbActiveModal;\n      this.userService = userService;\n      this.battleService = battleService;\n      this.RxStompService = RxStompService;\n    }\n\n    subscribeToBattle(battleId) {\n      this.battleSubscription = this.RxStompService.watch(`/battleSubscription/battleId/${this.battleService.currentBattle.id}`, {\n        id: this.userService.currentUser.id.toString()\n      }).subscribe(battleMessage => {\n        if (battleMessage.body) {\n          let convertedBattleMessage = JSON.parse(battleMessage.body);\n          this.battleService.currentBattle = convertedBattleMessage;\n          this.battleService.sendingRequest = false;\n        }\n      });\n    }\n\n    unsubscribeToBattle() {\n      this.battleSubscription.unsubscribe();\n    }\n\n    getBattlePetsArraySize(array) {\n      if (array[0].id == 0) {\n        return 0;\n      } else {\n        return array.length;\n      }\n    }\n\n    closeBattle() {\n      this.modalService.dismissAll();\n      this.battleService.resetBattleServiceBattle();\n      this.battleService.getCurrentBattles();\n    }\n\n    ngOnInit() {\n      this.subscribeToBattle(this.battleService.currentBattle.id);\n      this.modalService.openOverlay(this.battleModal);\n      console.log(this.battleService.currentBattle);\n\n      if (!this.battleService.modalFirstOpened) {\n        this.unsubscribeToBattle();\n        this.subscribeToBattle(this.battleService.currentBattle.id);\n        this.battleService.modalFirstOpened = true;\n      }\n    }\n\n    ngOnDestroy() {\n      if (this.battleService.currentBattle.battleType.toLowerCase() == \"pve\") {\n        if (confirm(\"Quit this battle and let the monster kill all of your pets?\")) {\n          this.battleService.prematureEndPveBattle(this.userService.currentUser.id);\n          this.unsubscribeToBattle();\n        }\n      } else {\n        this.battleService.resetBattleServiceBattle();\n        this.unsubscribeToBattle();\n      }\n    }\n\n  }\n\n  ModalBattleComponent.ɵfac = function ModalBattleComponent_Factory(t) {\n    return new (t || ModalBattleComponent)(i0.ɵɵdirectiveInject(i1.ModalService), i0.ɵɵdirectiveInject(i2.NgbActiveModal), i0.ɵɵdirectiveInject(i3.UserService), i0.ɵɵdirectiveInject(i4.BattleService), i0.ɵɵdirectiveInject(i5.RxStompService));\n  };\n\n  ModalBattleComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ModalBattleComponent,\n    selectors: [[\"app-modal-battle\"]],\n    viewQuery: function ModalBattleComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 7);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.battleModal = _t.first);\n      }\n    },\n    features: [i0.ɵɵProvidersFeature([NgbActiveModal])],\n    decls: 2,\n    vars: 0,\n    consts: [[\"battleModal\", \"\"], [1, \"container-fluid\", \"position-absolute\", \"bg-light-fothu\"], [1, \"row\"], [1, \"col-12\"], [1, \"container-fluid\"], [3, \"ngClass\", \"ngStyle\"], [4, \"ngIf\"], [1, \"col-12\", \"col-md-4\", \"battle-pets\"], [\"src\", \"../../../assets/battle spinning loading image.gif\", \"alt\", \"loading\", 1, \"battle-loading\", 3, \"ngStyle\"], [1, \"col-12\", \"petcenter\"], [\"class\", \"btn btn-success-fothu bg-success-fothu text-white\", 3, \"click\", 4, \"ngIf\"], [1, \"petcenter\", 3, \"ngStyle\"], [1, \"text-white\", 3, \"ngStyle\"], [1, \"text-white\"], [\"class\", \"col-4\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-4\"], [3, \"ngClass\", \"click\", 4, \"ngIf\"], [3, \"ngClass\", \"click\"], [1, \"d-none\", \"d-xl-block\"], [3, \"ngClass\"], [1, \"big-pet-image\", 3, \"src\", \"alt\"], [1, \"d-block\", \"d-xl-none\"], [1, \"medium-pet-image\", 3, \"src\", \"alt\"], [1, \"progress\", \"border\", \"border-dark\", \"wrapper\", \"big-pet-battle-health-bar\", \"mx-auto\"], [3, \"ngStyle\"], [1, \"big-data\", 3, \"ngStyle\"], [1, \"progress\", \"border\", \"border-dark\", \"wrapper\", \"medium-pet-battle-health-bar\", \"mx-auto\"], [1, \"action-buttons\", \"row\", \"justify-content-md-center\", 3, \"ngStyle\"], [1, \"btn-group-vertical\", \"btn-group-lg\", \"m-1\", \"col-5\"], [1, \"btn\", \"btn-danger\", \"battle-button\", \"text-white\", \"m-1\", 3, \"click\"], [1, \"btn\", \"btn-success\", \"battle-button\", \"text-white\", \"m-1\", 3, \"click\"], [1, \"btn\", \"btn-primary\", \"battle-button\", \"m-1\", 3, \"click\"], [1, \"btn\", \"btn-light\", \"battle-button\", \"m-1\", 3, \"click\"], [1, \"btn-group-vertical\", \"btn-group-lg\", \"m-1\", \"col-11\"], [1, \"btn\", \"btn-success-fothu\", \"bg-success-fothu\", \"battle-button\", \"text-white\", \"m-1\", 3, \"click\"], [1, \"row\", 3, \"ngStyle\"], [1, \"col-3\", \"text-white\"], [\"class\", \"row\", 3, \"ngStyle\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"petcenter\", 4, \"ngIf\"], [1, \"petcenter\"], [1, \"btn\", \"btn-white\", \"bg-white\", \"battle-button\", \"m-1\", 3, \"click\"], [1, \"btn\", \"btn-success-fothu\", \"bg-success-fothu\", \"text-white\", 3, \"click\"]],\n    template: function ModalBattleComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ModalBattleComponent_ng_template_0_Template, 33, 25, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n      }\n    },\n    directives: [i6.NgClass, i6.NgStyle, i6.NgIf, i6.NgForOf],\n    styles: [\"\"]\n  });\n  return ModalBattleComponent;\n})();",
	"map": null,
	"metadata": {},
	"sourceType": "module"
}
